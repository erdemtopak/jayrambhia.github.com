<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head >
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>DeskWid 0.1 &mdash; Aniket Pant</title>
        <meta name="author" content="">
        <meta name="description" content="">
        <meta name="keywords" content="jay, rambhia, computer vision, python, trakcing, keypoints, c, c++, simplecv, opencv">
        <meta name="viewport" content="width=device-width">

        
        

        <!-- stylesheets -->
        <link rel="stylesheet" href="/assets/styles/css/style.min.css">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="header-container gw">
            <div class="g one-whole zen-space full-width"></div>
            <div class="wrapper">
                <header class="g one-whole flexbox" role="banner">
                    <h1 class="g one-third portable-one-whole flexbox__item"><a class="logo media" href="/" rel="nofollow"><img class="media__item" src="/assets/images/logo.jpg" alt="Rawrrr! Aniket here." /></a></h1>
                    <nav class="g two-thirds portable-one-whole flexbox__item navbar">
                        <ul class="nav nav--block portable-nav--stacked">
                            <li><a href="/">Home</a></li>
                            <li><a href="/about-me">About Me</a></li>
                            <li><a href="/Blog">Blog</a></li>
                            <li><a href="/archive">Archive</a></li>
                        </ul>
                    </nav>
                    <div class="g two-thirds portable-one-whole flexbox__item">
                        <p class="islet about-me">I'm <strong>Aniket</strong>. I love to code, listen to music and I even write free-verses at times. A majority of my work is <em>writing syntax for design</em>.</p>
                    </div>
                    <p rel="google-authorship" class="accessibility">By Aniket Pant</p>
                </header> <!-- header -->
            </div>
        </div> <!-- header-container -->

        <div class="main-container gw">
            <div class="wrapper">
                <section class="g one-whole" role="main">
                <div class="post deskwid-0-1">
	<header class="g one-quarter portable-one-whole post--header">
  		<h1 class="post_title">DeskWid 0.1</h1>
  		<div class="meta"><date class="date">Posted on 19 February 2012</date><br/>Under <span class="category">Blog</a><br/>Tagged </span><span class="tags">Python</span></div>
      <div class="share island">
        <a href="https://twitter.com/share" class="twitter-share-button" data-via="jayrambhia" data-related="jayrambhia">Tweet</a>
        <div class="g-plusone" data-size="medium"></div>
        <div class="fb-like" data-send="false" data-layout="button_count" data-width="450" data-show-faces="true"></div>
      </div>
      <div id="boastful"></div>
	</header><!-- post-header -->
	<div class="g three-quarters portable-one-whole">
		<article class="post--content">
	  	<h1 id="deskwidhttpsgithubcomjayrambhiadeskwid"><a href="https://github.com/jayrambhia/DeskWid">DeskWid</a></h1>

<hr />
<p><strong>DeskWid</strong>! Yeah, I couldn’t find any other name and it doesn’t matter that much. From the name only, I guess you can recognize what it means. Desktop Widget. It’s not exactly a widget, but more kind of an application.
So, I had a program to fetch movie details from <strong>IMDb</strong>, a program to <strong>tweet</strong>, a program to get <strong>timeline</strong>, a program for <strong>sticky notes</strong>! After wasting time on internet to get a good sticky note application, I made one myself in python. I had to open all of them separately and three different windows would open. And it’s a buzzkill if your taskbar if full. Hence I combined all of them together and made a GUI.
In the beginning, I thought of making separate boxes for imdb and timeline, but then again it where would I put all of it individually. So, I combined and made only two textviews. One for timelines, imdb, etc and other for notes.
Now the problem was how to give command to do all the stuff. In my previously mentioned twitterBox application, whenever my mouse pointer left the window, it would fetch timeline. And yeah, it turns out that mouse pointer goes in and out too many times, so I had to include flags, and stuff and became a bit messy. So, no eventbox this time.
And I was still stuck at the problem of giving commands. Then, I remembered <a href="http://rowz.in/"><strong>Rowz</strong></a>. They have this command dialog box, in which you add /b to save the bookmark, /s code to save the snippet, etc. So using similar idea, I combined all the commands and then segregated them afterwards. So to tweet, I would enter <strong>t my tweet</strong>, etc.</p>

<p>It was going good until tweeting and fetching timeline was concerned. But I couldn’t fetch IMDb movie details. There was some problem with the thread. Searched for an hour so, and then I realized, I had forgot to add <strong>gtk.gdk.threads_init()</strong> which would initialize mutltithreading in pygtk/gtk+!</p>

<p>Okay. Basic GUI and operations done! Now due to slow connectivity of BITS net, sometimes it took long time to fetch timelines, movie details, and tweets. And sometimes, I don’t know why but twitter doesn’t respond on BITS net. Hence, I needed something to show whether timeline is being fetched or not or there is some error and for that I added a label, and since most of my fetches are done in different threads, I have to add <strong>gobject.idle_add()</strong>, which would as I have mentioned in the previous post add a function (specified by callback) to be called whenever there are no higher priority events pending to the default main loop.</p>

<p><a href="http://www.jayrambhia.com/blog/wp-content/uploads/2012/02/deskwid.png"><img src="http://www.jayrambhia.com/blog/wp-content/uploads/2012/02/deskwid.png?w=300" alt="" /></a></p>

<p>And then there was the biggest buzzkill! Manually adding proxy and all the api keys in the code. So my first priority was to make another window to add that, but it was 4 in the morning, and I was half asleep and then making boxes, adding labels, adding entries felt kind of redundant. I added that facility in the command prompt.
<strong>–proxy http://jayrambhia:jayrambhia@10.1.9.36:8080</strong>
<strong>–consumer_key “consumer key here”</strong>
For all the information, you must read <strong><a href="https://github.com/jayrambhia/DeskWid#readme">README</a>!</strong></p>

<p>Made few changes in the morning(afternoon actually) and added on <strong>GitHub</strong>. And gave it to couple of friends for testing.
I have always been curious about open source and open source licensing. And I wanted to copyright DeskWid with some open source license. Read about open source license. Didn’t understand much. Licensed it with <strong>MIT license</strong>. Hope it’s good!</p>

<p>Things TODO:
1. Documentation.
2. Modification to make it more accurate.
3. Code in more pythonic way.
4. Add more things like google search, more twitter commands, file search, etc.</p>

<p>P.S. There are so many things that I have to learn about open source, python, packaging, documentation.</p>
  
		</article><!-- post-content -->
		<footer class="post--footer"></footer><!-- post-footer -->
    <section class="meta--info island">
      <p class="lead">
        <br/><br/>If you liked this post, then you should definitely follow Jay on twitter too. He would be excited to know that you like his work.
      </p>
      <a href="https://twitter.com/jayrambhia" class="twitter-follow-button" data-show-count="false">Follow @jayrambhia</a>
    </section>
  </div>
</div><!-- post -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="/assets/js/jquery.boastful.js"></script>
<script src="/assets/js/rainbow-custom.min.js"></script>

<script type="text/javascript">
  $(document).ready(function() {
    $('#boastful').boastful({
        empty_message: '<p>Bah! Why ain\'t anyone tweeting this.</p>'  
    });
  });
</script>
                </section>
            </div>
        </div> <!-- main-container -->

        <div class="footer-container gw">
            <div class="wrapper">
                <footer class="g one-whole text--center" role="contentinfo">
                    <a href="https://plus.google.com/114828599949215633124?rel=author" class="accessibility">Google +</a>
                    <p><a href="http://twitter.com/aniket_pant">@jayrambhia</a><span class="subtle">&nbsp;|&nbsp;Paranoid Android&nbsp;&nbsp;</span> 
                </footer> <!-- footer -->
            </div>
            <div class="g one-whole zen-space full-width"></div>
        </div> <!-- footer-container -->

        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-23477947-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>

        <!-- Typekit Fonts -->
        <script type="text/javascript">
          (function() {
            var config = {
              kitId: 'rsd5dqz',
              scriptTimeout: 3000
            };
            var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
          })();

          (function(doc, script) {
            var js, 
                fjs = doc.getElementsByTagName(script)[0],
                frag = doc.createDocumentFragment(),
                add = function(url, id) {
                    if (doc.getElementById(id)) {return;}
                    js = doc.createElement(script);
                    js.src = url;
                    id && (js.id = id);
                    frag.appendChild( js );
                };
                
              // Google+ button
              add('http://apis.google.com/js/plusone.js');
              // Facebook SDK
              add('//connect.facebook.net/en_US/all.js#xfbml=1&appId=465363156848461', 'facebook-jssdk');
              // Twitter SDK
              add('//platform.twitter.com/widgets.js');

              fjs.parentNode.insertBefore(frag, fjs);
          }(document, 'script'));
        </script>

    </body>
</html>
